<div class="container">
  <form #candidateForm="ngForm" (ngSubmit)="save(candidateForm.value)">

    <div class="header">
      <h2 class="header-title"><strong>{{candidate.id ? 'Edit' : 'Add'}} Candidate</strong></h2>
      <button class="action-button" matSuffix mat-raised-button color="secondary" routerLink="/candidate-list"
              type="button">Return
      </button>
      <button class="action-button" matSuffix mat-raised-button color="primary" type="submit"
              [disabled]="!candidateForm.valid">Save
      </button>

    </div>

    <mat-grid-list cols="{{isMobile() ? 1 : 2}}" rowHeight="410px" gutterSize="13px" class="content-grid">
      <mat-grid-tile>
        <mat-grid-tile-header style="background: #3f51b5"> Fill candidate data:</mat-grid-tile-header>

        <mat-list class="mat-grid-content">
          <input type="hidden" name="href" [(ngModel)]="candidate.href">

          <mat-list-item>
            <mat-form-field>
              <input matInput placeholder="First Name" [(ngModel)]="candidate.firstName"
                     required name="firstName" #firstName>
            </mat-form-field>
          </mat-list-item>

          <mat-list-item>
            <mat-form-field>
              <input matInput placeholder="Last Name" [(ngModel)]="candidate.lastName"
                     required name="lastName" #lastName>
            </mat-form-field>
          </mat-list-item>

          <mat-list-item>
            <mat-form-field>
              <input matInput placeholder="Email" [(ngModel)]="candidate.email"
                     required email name="email" #email>
              <mat-error *ngIf="!email.valid">Not a valid email</mat-error>
            </mat-form-field>
          </mat-list-item>

          <mat-list-item>
            <mat-form-field>
              <input matInput placeholder="Position" [(ngModel)]="candidate.position"
                     required name="position" #position>
            </mat-form-field>
          </mat-list-item>
        </mat-list>
      </mat-grid-tile>

      <mat-grid-tile *ngIf="candidate.id != null">
        <mat-grid-tile-header style="background: #3f51b5">Manage attachments:</mat-grid-tile-header>
        <attachments-component #attachmentComponent
                               [dataChangedEmitter]="dataChangedEmitter"
                               [candidate]="candidate"></attachments-component>
      </mat-grid-tile>

      <mat-grid-tile *ngIf="candidate.id != null">
        <mat-grid-tile-header style="background: #3f51b5">Comments:</mat-grid-tile-header>
        <comments-component [dataChangedEmitter]="dataChangedEmitter" [candidate]="candidate"></comments-component>
      </mat-grid-tile>

      <mat-grid-tile *ngIf="candidate.id != null">
        <mat-grid-tile-header style="background: #3f51b5">Activity feed:</mat-grid-tile-header>
        <activity-feed-component [dataChangedEmitter]="dataChangedEmitter" [candidate]="candidate"></activity-feed-component>
      </mat-grid-tile>

    </mat-grid-list>

  </form>

</div>
